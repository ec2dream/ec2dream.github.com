<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>

<title>EC2Dream Fogviz Documentation</title>

<link rel="stylesheet" href="../style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../print.css" type="text/css" media="print" />
<link href='../favicons.ico' rel='shortcut icon'/>
<link href='../favicons.ico' rel='icon'/>

</head>
<body>
  <div id="header">
    <div id="headerimg">
	  <h1><a href="http://ec2dream.github.com">Build and Manage Cloud Servers</a></h1>
	  <div class="description">
</div>
	</div>
	<div id="navi">
		<ul id="nav">
		  <li class="page_item"><a href="http://ec2dream.blogspot.com" title="Home">Home</a></li>
		  <li class="page_item"><a href="http://ec2dream.blogspot.com/search/label/Methodology" title="Home">Methodology</a></li>
		  <li class="page_item"><a href="http://ec2dream.blogspot.com/search/label/Tools" title="Home">Tools</a></li>
		  <li class="page_item"><a href="http://ec2dream.github.com" title="Documentation">Documentation</a></li>
		  <li class="page_item"><a href="http://ec2dream.blogspot.com/search/label/Contact" title="Home">Contact</a></li>
		</ul>
	</div>

  </div>
  <!--/header -->
<div id="wrapper">
<div id="page">
  <div id="content">
<div id="breadcrumb">
       <a href="../index.html">Documentation</a> &gt; <a href="./building_a_base_image.html">Build a Base Image with Chef Solo</a>
      </div>

    <div class="post" >
	  <div class="entry">
        <h2><a href="../index.html">Build a Base Image with Chef Solo</a></h2>

            <p>

 <h2>Core Concepts</h2>

<h3>Cookbook</h3>

Cookbooks are the configration definitions used by Chef.
Cookbooks contain Attributes, Definitions, File Distribution, Libraries, Recipes, Resources and Templates that are rendered on Chef-configured machines with your dynamically substituted values. Think config files on steroids.



<h3>Machine Image</h3>
A Machine Image contains all the information necessary to boot instances of your software.
It is somewhat analogous to a snapshot of the boot partition containing the operating system and installed software running on your server.<br>

Amazon has two types of images:<br>
a. Elastic Block Storage (EBS) based instances store Amazon Machine Images (AMI) as a EBS snapshot.<br>
b. Instance instances store AMI as an encrypted file stored in Amazon S3.<br>

</p>

<br><br>


<h2 id="buildabaseserver">Build a Base Server</h2>

1. The Chef Repository of EC2Dream Fogviz Location is a setting in the Settings panel.<br>
In the Chef Repository there is a base in the cookbooks directory. Add any additional requirements for all servers to the base cookbook.
A sample cloud_init script can be used to pass parameter in the user data although it is generally preferable to run chef at start up and pass a chef node.json file.
<br><br>
2. In the Server panel for the running Base server press on the Chef button <img border=0 width=20 height=20 src="../gettingstarted/icons/chef.png"> and run the Base cookbook. This will run in a separate window and should finish with a message saying succesfully applied. <br><br>

<img border=0 width=600 height=325 src="../gettingstarted/images/image30h.jpg"><br><br>

3. Create a Base Image<br>
  Create an Image by pressing on the Create Image button <img border=0 width=20 height=20 src="../gettingstarted/icons/package.png"> in the server tab.<br>
 <img border=0 width=600 height=325 src="../gettingstarted/images/image30d.jpg"><br><br>

<h3>Amazon Instance Store Images</h3>

&nbsp;&nbsp;&nbsp;&nbsp;   -Configure an run the bundle.rb script on the server<br>

&nbsp;&nbsp;&nbsp;&nbsp;   -Register the image by pressing the Create Image button <img border=0 width=20 height=20 src="../gettingstarted/icons/package.png">in the server tab.<br><br>

4. Shutdown the server by pressing the Terminate button <img border=0 width=20 height=20 src="../gettingstarted/icons/disconnect.png">in the server tab.<br> and update the base launch profile with the new image.<br>

   <img border=0 width=600 height=225 src="../gettingstarted/images/image30g.jpg"><br><br>

5. You might like to test the new base image by launching it and proving it starts up<br><br>
 		<p>
        </p>
    </p>

		</div>
		<div class="post-content">
		<div id="breadcrumb">
				       Next: <a href="../index.html">Documentation</a> &gt; <a href="../application/index.html">Build an Application</a>
		      </div>
		</div>
		<div class="post-info">
		</div>
	</div>


  </div><!--/content -->


  <hr class="clear" />
</div><!--/page -->
</div><!--/wrapper -->

<div id="footerbg">
  <div id="footer">

  <!--recent comments start -->

  <!--recent comments start -->
  <div class="footer-recent-comments">
   </div>
  <!--recent comments end -->

	<!--about text start -->
	<div class="footer-meta">
		<h4></h4>

	</div>
	<!--about text end -->

  <hr class="clear" />
  </div>
<!--/footer -->

<div id="credits">
	<div class="alignright">Design by <a href="http://www.justskins.com/">Just Skins</a></div>
	<div class="alignleft">Copyright &copy; 2012 EC2Dream. All rights reserved.</div>
</div>

</div>
</body>
</html>
